OpenMM can directly read CHARMM files generated by CHARMMM setup tools 
such as the CHARMM-GUI, VMD, CGenFF, etc. through the use of the 
`simtik.openmm.app` layer. These files include `psf` files that contain 
the topology information and `crd` or `rst` files that contain atomic 
coordinates. When the `CharmmPsfFile` class is used to load the `psf` 
file, a chemical structure is instantiated which can then be used to create
an OpenMM system. A regular `pdb` file can be used for the atomic 
coordinates or the `CharmmCrdFile` or `CharmmRstFile` class can be used 
to read CHARMM coordinate files. Files containing forcefield 
definitions come in a variety of formats such as `prm`, `par`, `top`, 
`rtf`, `inp` and `str` should be loaded into a `CharmmParameterSet` object. 
This object is then included as the first parameter when `createSystem()`
is called on the chemical structure. Listing 1 demonstrate how to use 
CHARMM files in an OpenmMM script.

```
from simtk.openmm.app import *
from simtk.openmm import *
from simtk.unit import *
from sys import stdout, exit, stderr

# Load CHARMM files
psf = CharmmPsfFile('input.psf')
pdb = PDBFile('input.pdb')
params = CharmmPsfFile('charmm36.rtf', 'charmm36.prm')

# Create an openmm system by calling createSystem on psf
system = psf.createSystem(params, nonbondedMethod=NoCutoff,
         nonbondedCutoff=1*nanometer, constraints=HBonds)
integrator = LangevinIntegrator(300*kelvin,   # Temperature of head bath
                                1/picosecond, # Friction coefficient
                                0.002*picoseconds) # Time step
                     
simulation = Simulation(psf.topology, system, integrator)
simulation.context.setPositions(pdb.positions)
simulation.minimizeEnergy()

# Set up the reporters to report energies every 1000 steps.
simulaiton.reporters.append(PDBReporter('output.pdb', 1000))
simulation.reporters.append(StateDataReporter(stdout, 1000, step=True,
                            potentialEnergy=True, temperature=True))
# run simulation
simulation.step(10000)

```

The CHARMM-GUI provides a more elaborate set of scripts to run simulations
but they are still very straightforward to use. As an example, consider 
setting up a simulation of the B2AR GPCR in a membrane for simulation. 
To do this, we will us the membrane builder in the CHARMM-GUI. 
The membrane builder in the  CHARMM-GUI provides a straight-
forward way to go from the RCSB X-ray structure to the protein embedded
in a membrane with all the relevant CHARMM input files. A tutorial that 
walks through this process is provided [here](https://github.com/ChayaSt/openmm7tutorials/tree/master/b2ar_membrane). 
When OpenMM is selected in the last step, CHARMM-GUI provides all the 
relevant openmm scripts in the downloaded tarball. The parameters and 
arguments for openmm objects and functions are provided in the `inp` 
files for all equilibration steps and production. This makes it simple 
to change parameters such as the time-step or electrostatic cut-off method. 